<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Студенты</title>
    <link href="css/site.css" rel="stylesheet" />
    <script src="js/site.js"></script>
</head>
<body>


<h3> Студенты </h3>
<div><button id="showAddForm">Добавить</button>  </div>
<div id="student"></div>
<button id="sendData">Отправить</button>
<div id="students"> </div>


<script> 
    const students = document.getElementById("students");
    updateStudents(students, location.origin + "/students");

    const student = document.getElementById("student");

    document.getElementById('showAddForm').onclick = function (e) {
        showAddForm(student);
    };

    document.getElementById("sendData").onclick = function (e) {

        let name = document.querySelector('input[name="name"]').value;
        let email = document.querySelector('input[name="email"]').value;
        let isReady = document.querySelector('input[name="isReady"]').checked;

        console.log(name, "-", email, "-", isReady);

        let student = { "name": name, "email": email, "isReady": isReady };



        fetch(location.origin + "/students",
            {
                method: "POST",
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(student)
            }).
            then(resp => { console.log(resp); updateStudents(students, location.origin + "/students"); });
  };


 </script>

</body>
</html>